version: '3.5'

services:
  slack-xlrelease-app:
    container_name: slack-xlrelease-app
    image: xebialabsunsupported/slack-xlrelease-app:latest
    ports:
      - "5000:5000"
    volumes:
      - ${DATA_DIR}/logs/slack:/opt/xebialabs/slack-xlrelease-app/log
    env_file:
      - .env
    command: pipenv run gunicorn app:app -b 0.0.0.0:5000 -w 3
    external_links:
      - redis:redis
      - vault:vault
    networks:
      - slack-backend-network

networks:
  slack-backend-network:
    external: true
